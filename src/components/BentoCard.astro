---
import type { CollectionEntry } from "astro:content";

const { obra } = Astro.props as {
  obra: CollectionEntry<"obras">;
};

const spanClasses: Record<string, string> = {
  wide: "lg:col-span-2",
  tall: "lg:row-span-2",
  large: "lg:col-span-2 lg:row-span-2",
};
---

<a
  href={`/obras/${obra.data.slug}`}
  class={`
    group
    overflow-hidden
    relative
    ${spanClasses[obra.data.bento] ?? ""}
  `}
>
  <img
    src={obra.data.cover.src}
    alt={obra.data.cover.alt}
    loading="lazy"
    class="
      w-full
      h-full
      object-cover
      transition-transform
      duration-700
      ease-out
      group-hover:scale-[1.03]
    "
  />

  <div
    class="
      absolute
      inset-0
      bg-black/0
      group-hover:bg-black/30
      transition-colors
      duration-500
    "
  />

  <div
    class="
      absolute
      bottom-4
      left-4
      text-white
      opacity-0
      group-hover:opacity-100
      transition-opacity
      duration-500
    "
  >
    <h3 class="text-sm tracking-wide uppercase">
      {obra.data.title}
    </h3>
    <p class="text-xs opacity-80">
      {obra.data.year}
    </p>
  </div>
</a>